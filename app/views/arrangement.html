<!-- Needed pour faire marcher les web components de cwilso -->
<link rel="import" href="../scripts/components/controls.html" >

<!-- Play/Pause Stop & Record -->
<div>
  <button class="btn btn-primary" style="background-color: #347; border-color: #347;" ng-click="arrangement.playAllTracks()">
    <i class="glyphicon glyphicon-play"></i>
    Play
    /
    <i class="glyphicon glyphicon-pause"></i>
    Pause
  </button>

  <button class="btn btn-primary" style="background-color: #347; border-color: #347;" ng-click="arrangement.stopAllTracks()">
    <i class="glyphicon glyphicon-stop"></i>
    Stop
  </button>
</div>

<hr class="col-lg-12">

<div class="col-lg-12">

  <div class="col-lg-1">
    <!-- Panoramique -->
    <div>
      <webaudio-knob id="panGeneral" title="Pan" sprites="30" src="img/fxknob2.png" min="-100" max="100" value="0" width="40" height="40"></webaudio-knob>
    </div>
    <!-- Volume sliders -->
    <div>
      <webaudio-knob id="sliderGeneral" title="Volume" src="img/verticalFaderBlue.png" sprites="200" min="0" max="100" value="{{arrangement.generalVolume}}" width="25" height="150"></webaudio-knob>
    </div>

  </div>

  <div class="col-lg-1">
    <webaudio-switch src="img/redbutton.png" sprites="2" width="64" height="64"></webaudio-switch>
  </div>

</div>

<div ng-repeat="track in arrangement.listOfSound" class="col-lg-12">
  <hr>
  <div class="col-lg-1">
    <!-- Panoramique -->
    <div class="col-lg-12">
      <webaudio-knob id="pan{{$index}}" title="Pan" sprites="30" src="img/fxknob2.png" min="-100" max="100" value="0" width="40" height="40"></webaudio-knob>
    </div>


    <!-- Volume sliders -->
    <div class="col-lg-12">
      <webaudio-knob id="slider{{$index}}" title="Volume" src="img/verticalFaderBlue.png" sprites="200" min="0" max="100" value="80" width="25" height="150" ng-init="arrangement.sliders['slider' + $index] = 0.80" ng-mousedown="arrangement.volumeStart()"></webaudio-knob>
    </div>


    <!-- Solo & Mute -->
    <div class="col-lg-12">
      <button id="solo{{$index}}" class="btn btn-xs" ng-class="{'btn-info':arrangement.solist[$index]}" ng-click="arrangement.solo($index); arrangement.solist[$index]=!arrangement.solist[$index]">s</button>
      <button id="mute{{$index}}" class="btn btn-xs" ng-class="{'btn-info':arrangement.muted[$index]}" ng-click="arrangement.mute($index); arrangement.muted[$index]=!arrangement.muted[$index]">m</button>
    </div>
  </div>

  <!-- WaveForm -->
  <div id="wave{{$index}}" class="col-lg-11" style="padding:0">{{$index}}</div>

</div>

{{arrangement.sliders}}

<!--
<webaudio-knob src="img/LittlePhatty.png" sprites="100" min="0" max="100"></webaudio-knob>
<webaudio-knob sprites="100" min="0" max="100"></webaudio-knob>
<webaudio-slider src="img/hsliderbody.png"></webaudio-slider>
<webaudio-switch src="img/switch_toggle.png" width="32" height="32"></webaudio-switch>
<webaudio-param src="" link="knob-1"></webaudio-param>
<webaudio-keyboard keys="25" ></webaudio-keyboard>
-->
